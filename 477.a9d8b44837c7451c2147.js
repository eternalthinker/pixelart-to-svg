(()=>{"use strict";function e(e){return e.toString(16).padStart(2,"0")}function t(t,a,s){return"#"+e(t)+e(a)+e(s)}onmessage=async e=>{try{await async function(e){const{canvas:a,pixelImg:s,spriteConfig:i}=e,{pixelsPerUnit:n,width:l,height:o,padding:r,outputPixelSize:g,spriteNames:p}=i,c=a.getContext("2d",{willReadFrequently:!0,antialias:!1});c.drawImage(s,0,0);const d=a.width,f=a.height,h=(l+2*r)*n,u=(o+2*r)*n,y=Math.floor(f/u),m=Math.floor(d/h),w=y*m;postMessage({type:"info",message:`We have ${w} images in ${y} rows and ${m} columns`});let x=1;for(let e=0;e<y;++e)for(let a=0;a<m;++a){let s=`image${x}`;p.length>x-1&&(s=p[x-1]);const i={filename:s,padding:r*g,w:l*g,h:o*g,pixels:[]};let d;if(r>0){d=c.getImageData(h*a,u*e,1,1).data;const s=t(d[0],d[1],d[2]);i.background={fill:s,x:0,y:0,w:(l+2*r)*g,h:(o+2*r)*g},i.guide={mask:[{x:(r-1)*g,y:(r-1)*g,w:(l+2)*g,h:(o+2)*g,fill:"#3F3F3F"},{x:r*g,y:r*g,w:l*g,h:l*g,fill:"#000000"}],masked:{x:(r-1)*g,y:(r-1)*g,w:(l+2)*g,h:(o+2)*g,fill:"#000000"}}}for(let s=0;s<o;++s)for(let o=0;o<l;++o){const l=h*a+(o+r)*n,p=u*e+(s+r)*n,f=c.getImageData(l,p,1,1).data,y=f[3]/255;if($=d,null!=(M=f)&&null!=$&&M[0]===$[0]&&M[1]===$[1]&&M[2]===$[2]||0===y)continue;const m=t(f[0],f[1],f[2]);i.pixels.push({fill:m,opacity:y,x:o*g,y:s*g,w:g,h:g})}postMessage({type:"progress",details:`${x}/${w}`,svgData:i}),x+=1}var M,$}(e.data),postMessage({type:"end"})}catch(e){postMessage({type:"error",error:e})}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBYVMsRUFBSUMsRUFBSSxFQUFHLEdBQUcvQyxLQUN2Q2lELEVBQWVELEVBQU0sR0FBSyxJQUNoQyxHQTZCYUUsRUE3QlFkLEVBOEJuQixPQURPZSxFQTdCS0gsSUE4QkUsTUFBTkUsR0FHWEMsRUFBRyxLQUFPRCxFQUFHLElBQU1DLEVBQUcsS0FBT0QsRUFBRyxJQUFNQyxFQUFHLEtBQU9ELEVBQUcsSUFqQ0EsSUFBakJELEVBRy9CLFNBRUYsTUFBTUcsRUFBYTNELEVBQVN1RCxFQUFNLEdBQUlBLEVBQU0sR0FBSUEsRUFBTSxJQUN0RGhCLEVBQVFHLE9BQU9rQixLQUFLLENBQ2xCYixLQUFNWSxFQUNORSxRQUFTTCxFQUNUUixFQUFHQSxFQUFJakMsRUFDUGtDLEVBQUdBLEVBQUlsQyxFQUNQeUIsRUFBR3pCLEVBQ0gwQixFQUFHMUIsR0FFUCxDQUdGZ0IsWUFBWSxDQUNWQyxLQUFNLFdBQ044QixRQUFTLEdBQUc1QixLQUFZSixJQUN4QlMsWUFHRkwsR0FBWSxDQUNkLENBS0osSUFBbUJ3QixFQUFJRCxDQUh2QixDQTdJVU0sQ0FBaUJ6RCxFQUFFQyxNQUV6QndCLFlBQVksQ0FDVkMsS0FBTSxPQUVWLENBQUUsTUFBT2dDLEdBQ1BqQyxZQUFZLENBQ1ZDLEtBQU0sUUFDTmlDLE1BQU9ELEdBRVgsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3BpeGVsYXJ0LXRvLXN2Zy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly9waXhlbGFydC10by1zdmcvLi9zcmMvY29udmVydF93b3JrZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZShpbWdQYXRoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXNvbHZlKGltYWdlKTtcbiAgICB9O1xuICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZWplY3QobmV3IEVycm9yKGBJbWFnZSAke2ltZ1BhdGh9IGNhbm5vdCBiZSBsb2FkZWRgKSk7XG4gICAgfTtcbiAgICBpbWFnZS5zcmMgPSBpbWdQYXRoO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY29tcG9uZW50VG9IZXgoYykge1xuICB2YXIgaGV4ID0gYy50b1N0cmluZygxNik7XG4gIHJldHVybiBoZXgucGFkU3RhcnQoMiwgXCIwXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmdiVG9IZXgociwgZywgYikge1xuICByZXR1cm4gXCIjXCIgKyBjb21wb25lbnRUb0hleChyKSArIGNvbXBvbmVudFRvSGV4KGcpICsgY29tcG9uZW50VG9IZXgoYik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2NhbFN0b3JhZ2VOdW1iZXIoa2V5LCB2YWx1ZSkge1xuICB0cnkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBjb25zdCBzdG9yZWRWYWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICBpZiAoc3RvcmVkVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gTnVtYmVyKHN0b3JlZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9XG59XG4iLCJpbXBvcnQgeyByZ2JUb0hleCB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbm9ubWVzc2FnZSA9IGFzeW5jIChlKSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgY29udmVydFRvU3ZnRGF0YShlLmRhdGEpO1xuXG4gICAgcG9zdE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJlbmRcIixcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcG9zdE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgZXJyb3I6IGVycixcbiAgICB9KTtcbiAgfVxufTtcblxuYXN5bmMgZnVuY3Rpb24gY29udmVydFRvU3ZnRGF0YShkYXRhKSB7XG4gIGNvbnN0IHsgY2FudmFzLCBwaXhlbEltZywgc3ByaXRlQ29uZmlnIH0gPSBkYXRhO1xuICBjb25zdCB7XG4gICAgcGl4ZWxzUGVyVW5pdCxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgcGFkZGluZyxcbiAgICBvdXRwdXRQaXhlbFNpemUsXG4gICAgc3ByaXRlTmFtZXMsXG4gIH0gPSBzcHJpdGVDb25maWc7XG5cbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiLCB7XG4gICAgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlLFxuICAgIGFudGlhbGlhczogZmFsc2UsXG4gIH0pO1xuICBjdHguZHJhd0ltYWdlKHBpeGVsSW1nLCAwLCAwKTtcblxuICBjb25zdCBzcHJpdGVTaGVldFdpZHRoID0gY2FudmFzLndpZHRoO1xuICBjb25zdCBzcHJpdGVTaGVldEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gIGNvbnN0IHNwcml0ZVdpZHRoID0gKHdpZHRoICsgcGFkZGluZyAqIDIpICogcGl4ZWxzUGVyVW5pdDtcbiAgY29uc3Qgc3ByaXRlSGVpZ2h0ID0gKGhlaWdodCArIHBhZGRpbmcgKiAyKSAqIHBpeGVsc1BlclVuaXQ7XG4gIGNvbnN0IG51bVJvd3MgPSBNYXRoLmZsb29yKHNwcml0ZVNoZWV0SGVpZ2h0IC8gc3ByaXRlSGVpZ2h0KTtcbiAgY29uc3QgbnVtQ29scyA9IE1hdGguZmxvb3Ioc3ByaXRlU2hlZXRXaWR0aCAvIHNwcml0ZVdpZHRoKTtcbiAgY29uc3QgbnVtU3ByaXRlcyA9IG51bVJvd3MgKiBudW1Db2xzO1xuICBwb3N0TWVzc2FnZSh7XG4gICAgdHlwZTogXCJpbmZvXCIsXG4gICAgbWVzc2FnZTogYFdlIGhhdmUgJHtudW1TcHJpdGVzfSBpbWFnZXMgaW4gJHtudW1Sb3dzfSByb3dzIGFuZCAke251bUNvbHN9IGNvbHVtbnNgLFxuICB9KTtcblxuICBsZXQgc3ZnQ291bnQgPSAxO1xuICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBudW1Sb3dzOyArK3Jvdykge1xuICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IG51bUNvbHM7ICsrY29sKSB7XG4gICAgICBsZXQgZmlsZW5hbWUgPSBgaW1hZ2Uke3N2Z0NvdW50fWA7XG4gICAgICBpZiAoc3ByaXRlTmFtZXMubGVuZ3RoID4gc3ZnQ291bnQgLSAxKSB7XG4gICAgICAgIGZpbGVuYW1lID0gc3ByaXRlTmFtZXNbc3ZnQ291bnQgLSAxXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN2Z0RhdGEgPSB7XG4gICAgICAgIGZpbGVuYW1lLFxuICAgICAgICBwYWRkaW5nOiBwYWRkaW5nICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICB3OiB3aWR0aCAqIG91dHB1dFBpeGVsU2l6ZSxcbiAgICAgICAgaDogaGVpZ2h0ICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICBwaXhlbHM6IFtdLFxuICAgICAgfTtcbiAgICAgIGxldCBiZ1BpeGVsO1xuXG4gICAgICBpZiAocGFkZGluZyA+IDApIHtcbiAgICAgICAgYmdQaXhlbCA9IGN0eC5nZXRJbWFnZURhdGEoXG4gICAgICAgICAgc3ByaXRlV2lkdGggKiBjb2wsXG4gICAgICAgICAgc3ByaXRlSGVpZ2h0ICogcm93LFxuICAgICAgICAgIDEsXG4gICAgICAgICAgMVxuICAgICAgICApLmRhdGE7XG4gICAgICAgIGNvbnN0IGJnQ29sb3IgPSByZ2JUb0hleChiZ1BpeGVsWzBdLCBiZ1BpeGVsWzFdLCBiZ1BpeGVsWzJdKTtcbiAgICAgICAgc3ZnRGF0YS5iYWNrZ3JvdW5kID0ge1xuICAgICAgICAgIGZpbGw6IGJnQ29sb3IsXG4gICAgICAgICAgeDogMCxcbiAgICAgICAgICB5OiAwLFxuICAgICAgICAgIHc6ICh3aWR0aCArIHBhZGRpbmcgKiAyKSAqIG91dHB1dFBpeGVsU2l6ZSxcbiAgICAgICAgICBoOiAoaGVpZ2h0ICsgcGFkZGluZyAqIDIpICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICB9O1xuXG4gICAgICAgIHN2Z0RhdGEuZ3VpZGUgPSB7XG4gICAgICAgICAgLy8gQSBibGFjayByZWN0YW5nbGUgb24gYSBncmV5IHJlY3RhbmdsZSBhcyBtYXNrLlxuICAgICAgICAgIC8vIEEgYmxhY2sgcmVjdGFuZ2xlIGFzIG1hc2tlZCwgY2F1c2luZyBvbmx5XG4gICAgICAgICAgLy8gdGhlIGJvcmRlcnMgdG8gc2hvdyB3aXRoIHRyYW5zcGFyZW5jeS5cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIFN0cm9rZSBpcyBub3QgdXNlZCBhcyBpdCBkb2Vzbid0IHNjYWxlXG4gICAgICAgICAgLy8gcHJvcG9ydGlvbmFsbHkgd2l0aCBwaXhlbHMgKEVnOiBpbiBGaWdtYSkuXG4gICAgICAgICAgbWFzazogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB4OiAocGFkZGluZyAtIDEpICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICAgICAgICB5OiAocGFkZGluZyAtIDEpICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICAgICAgICB3OiAod2lkdGggKyAyKSAqIG91dHB1dFBpeGVsU2l6ZSxcbiAgICAgICAgICAgICAgaDogKGhlaWdodCArIDIpICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICAgICAgICBmaWxsOiBcIiMzRjNGM0ZcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHg6IHBhZGRpbmcgKiBvdXRwdXRQaXhlbFNpemUsXG4gICAgICAgICAgICAgIHk6IHBhZGRpbmcgKiBvdXRwdXRQaXhlbFNpemUsXG4gICAgICAgICAgICAgIHc6IHdpZHRoICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICAgICAgICBoOiB3aWR0aCAqIG91dHB1dFBpeGVsU2l6ZSxcbiAgICAgICAgICAgICAgZmlsbDogXCIjMDAwMDAwXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgbWFza2VkOiB7XG4gICAgICAgICAgICB4OiAocGFkZGluZyAtIDEpICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICAgICAgeTogKHBhZGRpbmcgLSAxKSAqIG91dHB1dFBpeGVsU2l6ZSxcbiAgICAgICAgICAgIHc6ICh3aWR0aCArIDIpICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICAgICAgaDogKGhlaWdodCArIDIpICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICAgICAgZmlsbDogXCIjMDAwMDAwXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gRm9yIGVhY2ggcm93XG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGhlaWdodDsgKyt5KSB7XG4gICAgICAgIC8vIEZvciBlYWNoIGNvbHVtblxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHdpZHRoOyArK3gpIHtcbiAgICAgICAgICBjb25zdCBzeCA9IHNwcml0ZVdpZHRoICogY29sICsgKHggKyBwYWRkaW5nKSAqIHBpeGVsc1BlclVuaXQ7XG4gICAgICAgICAgY29uc3Qgc3kgPSBzcHJpdGVIZWlnaHQgKiByb3cgKyAoeSArIHBhZGRpbmcpICogcGl4ZWxzUGVyVW5pdDtcbiAgICAgICAgICBjb25zdCBwaXhlbCA9IGN0eC5nZXRJbWFnZURhdGEoc3gsIHN5LCAxLCAxKS5kYXRhO1xuICAgICAgICAgIGNvbnN0IHBpeGVsT3BhY2l0eSA9IHBpeGVsWzNdIC8gMjU1O1xuICAgICAgICAgIGlmIChpc1NhbWVSZ2IocGl4ZWwsIGJnUGl4ZWwpIHx8IHBpeGVsT3BhY2l0eSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gU2tpcCB0cmFuc3BhcmVudCBwaXhlbHMuXG4gICAgICAgICAgICAvLyBUcmVhdCBiZyBjb2xvciBwaXhlbHMgYXMgdHJhbnNwYXJlbnQuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcGl4ZWxDb2xvciA9IHJnYlRvSGV4KHBpeGVsWzBdLCBwaXhlbFsxXSwgcGl4ZWxbMl0pO1xuICAgICAgICAgIHN2Z0RhdGEucGl4ZWxzLnB1c2goe1xuICAgICAgICAgICAgZmlsbDogcGl4ZWxDb2xvcixcbiAgICAgICAgICAgIG9wYWNpdHk6IHBpeGVsT3BhY2l0eSxcbiAgICAgICAgICAgIHg6IHggKiBvdXRwdXRQaXhlbFNpemUsXG4gICAgICAgICAgICB5OiB5ICogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICAgICAgdzogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICAgICAgaDogb3V0cHV0UGl4ZWxTaXplLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHBvc3RNZXNzYWdlKHtcbiAgICAgICAgdHlwZTogXCJwcm9ncmVzc1wiLFxuICAgICAgICBkZXRhaWxzOiBgJHtzdmdDb3VudH0vJHtudW1TcHJpdGVzfWAsXG4gICAgICAgIHN2Z0RhdGEsXG4gICAgICB9KTtcblxuICAgICAgc3ZnQ291bnQgKz0gMTtcbiAgICB9XG4gIH1cbn1cblxuLy8gQ29tcGFyZSB0d28gYml0bWFwIHBpeGVsIGRhdGFcbmZ1bmN0aW9uIGlzU2FtZVJnYihwMSwgcDIpIHtcbiAgaWYgKHAxID09IG51bGwgfHwgcDIgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gcDFbMF0gPT09IHAyWzBdICYmIHAxWzFdID09PSBwMlsxXSAmJiBwMVsyXSA9PT0gcDJbMl07XG59XG4iXSwibmFtZXMiOlsiY29tcG9uZW50VG9IZXgiLCJjIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInJnYlRvSGV4IiwiciIsImciLCJiIiwib25tZXNzYWdlIiwiYXN5bmMiLCJlIiwiZGF0YSIsImNhbnZhcyIsInBpeGVsSW1nIiwic3ByaXRlQ29uZmlnIiwicGl4ZWxzUGVyVW5pdCIsIndpZHRoIiwiaGVpZ2h0IiwicGFkZGluZyIsIm91dHB1dFBpeGVsU2l6ZSIsInNwcml0ZU5hbWVzIiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpbGxSZWFkRnJlcXVlbnRseSIsImFudGlhbGlhcyIsImRyYXdJbWFnZSIsInNwcml0ZVNoZWV0V2lkdGgiLCJzcHJpdGVTaGVldEhlaWdodCIsInNwcml0ZVdpZHRoIiwic3ByaXRlSGVpZ2h0IiwibnVtUm93cyIsIk1hdGgiLCJmbG9vciIsIm51bUNvbHMiLCJudW1TcHJpdGVzIiwicG9zdE1lc3NhZ2UiLCJ0eXBlIiwibWVzc2FnZSIsInN2Z0NvdW50Iiwicm93IiwiY29sIiwiZmlsZW5hbWUiLCJsZW5ndGgiLCJzdmdEYXRhIiwidyIsImgiLCJwaXhlbHMiLCJiZ1BpeGVsIiwiZ2V0SW1hZ2VEYXRhIiwiYmdDb2xvciIsImJhY2tncm91bmQiLCJmaWxsIiwieCIsInkiLCJndWlkZSIsIm1hc2siLCJtYXNrZWQiLCJzeCIsInN5IiwicGl4ZWwiLCJwaXhlbE9wYWNpdHkiLCJwMiIsInAxIiwicGl4ZWxDb2xvciIsInB1c2giLCJvcGFjaXR5IiwiZGV0YWlscyIsImNvbnZlcnRUb1N2Z0RhdGEiLCJlcnIiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=